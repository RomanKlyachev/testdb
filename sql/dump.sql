CREATE DATABASE  IF NOT EXISTS `testdb` /*!40100 DEFAULT CHARACTER SET utf8mb4 */;
USE `testdb`;
-- MySQL dump 10.13  Distrib 8.0.35, for Linux (x86_64)
--
-- Host: 172.27.0.1    Database: testdb
-- ------------------------------------------------------
-- Server version	5.7.44

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `NL_HOUSES`
--

DROP TABLE IF EXISTS `NL_HOUSES`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `NL_HOUSES` (
  `ID_NL_HOUSES` int(11) NOT NULL AUTO_INCREMENT,
  `NL_HOUSES_SHORT` varchar(25) NOT NULL,
  PRIMARY KEY (`ID_NL_HOUSES`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `NL_HOUSES`
--

LOCK TABLES `NL_HOUSES` WRITE;
/*!40000 ALTER TABLE `NL_HOUSES` DISABLE KEYS */;
INSERT INTO `NL_HOUSES` VALUES (1,'Девятиэтажный'),(2,'Четырнадцатиэтажный'),(3,'Пятиэтажный');
/*!40000 ALTER TABLE `NL_HOUSES` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `NL_LOG`
--

DROP TABLE IF EXISTS `NL_LOG`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `NL_LOG` (
  `ID_NL_LOG` int(11) NOT NULL AUTO_INCREMENT,
  `NL_LOG_DATE` date NOT NULL,
  `NL_LOG_TIME` time NOT NULL,
  `NL_LOG_IP` varchar(255) NOT NULL,
  `NL_LOG_IUD` varchar(255) NOT NULL,
  `NL_LOG_TABLE_NAME` varchar(255) NOT NULL,
  `ID_NL_USER` int(11) NOT NULL,
  PRIMARY KEY (`ID_NL_LOG`) USING BTREE,
  KEY `ID_NL_USER` (`ID_NL_USER`) USING BTREE,
  CONSTRAINT `NL_LOG_IBFK_1` FOREIGN KEY (`ID_NL_USER`) REFERENCES `NL_USER` (`ID_NL_USER`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `NL_LOG`
--

LOCK TABLES `NL_LOG` WRITE;
/*!40000 ALTER TABLE `NL_LOG` DISABLE KEYS */;
INSERT INTO `NL_LOG` VALUES (1,'2023-11-16','12:22:28','172.27.0.1','add','NL_HOUSES',1),(2,'2023-11-16','12:22:41','172.27.0.1','add','NL_MATERIAL',1),(3,'2023-11-16','13:01:25','172.27.0.1','add','NL_PROP_RESALE',1),(4,'2023-11-16','13:11:04','172.27.0.1','edit','NL_PROP_RESALE',1),(5,'2023-11-17','09:34:03','172.27.0.1','add','NL_PROP_RESALE',1);
/*!40000 ALTER TABLE `NL_LOG` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `NL_LOG_DETAIL`
--

DROP TABLE IF EXISTS `NL_LOG_DETAIL`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `NL_LOG_DETAIL` (
  `ID_NL_LOG_DETAIL` int(11) NOT NULL AUTO_INCREMENT,
  `ID_NL_LOG` int(11) NOT NULL,
  `NL_LOG_DETAIL_OLD` varchar(2550) NOT NULL,
  `NL_LOG_DETAIL_NEW` varchar(2550) NOT NULL,
  `NL_LOG_DETAIL_FIELD` varchar(255) NOT NULL,
  PRIMARY KEY (`ID_NL_LOG_DETAIL`) USING BTREE,
  KEY `ID_NL_LOG` (`ID_NL_LOG`) USING BTREE,
  CONSTRAINT `NL_LOG_DETAIL_IBFK_1` FOREIGN KEY (`ID_NL_LOG`) REFERENCES `NL_LOG` (`ID_NL_LOG`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=44 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `NL_LOG_DETAIL`
--

LOCK TABLES `NL_LOG_DETAIL` WRITE;
/*!40000 ALTER TABLE `NL_LOG_DETAIL` DISABLE KEYS */;
INSERT INTO `NL_LOG_DETAIL` VALUES (1,1,'','3','ID_NL_HOUSES'),(2,1,'','Пятиэтажный','NL_HOUSES_SHORT'),(3,2,'','4','ID_NL_MATERIAL'),(4,2,'','Деревянный','NL_MATERIAL_SHORT'),(5,3,'','9','ID_NL_PROP_RESALE'),(6,3,'','100','NL_PROP_RESALE_AREA_FULL'),(7,3,'','2','ID_NL_HOUSES'),(8,3,'','2','ID_NL_MATERIAL'),(9,3,'','Какой то адрес','NL_PROP_RESALE_ADDRESS'),(10,3,'','4','NL_PROP_RESALE_FLOOR'),(11,3,'','5000000','NL_PROP_RESALE_COST_TOTAL'),(12,3,'','+79998887766','NL_PROP_RESALE_PHONE_OWNER'),(13,3,'','1','ID_NL_VIEW'),(14,3,'','1','ID_NL_USER'),(15,3,'','+79282601474','NL_PROP_RESALE_PHONE'),(16,3,'','','NL_PROP_RESALE_PHOTO_URLS'),(17,3,'','%7B%22ops%22%3A%5B%7B%22insert%22%3A%22%5Cn%22%7D%5D%7D','NL_PROP_RESALE_DESCRIPTION'),(18,4,'3','3','ID_NL_PROP_RESALE'),(19,4,'555.00','555','NL_PROP_RESALE_AREA_FULL'),(20,4,'','3','ID_NL_HOUSES'),(21,4,'Россия, Краснодарский край, Анапа, Советская улица ','Россия, Краснодарский край, Анапа, Советская улица ','NL_PROP_RESALE_ADDRESS'),(22,4,'','1','ID_NL_MATERIAL'),(23,4,'1','1','NL_PROP_RESALE_FLOOR'),(24,4,'1000000','1000000','NL_PROP_RESALE_COST_TOTAL'),(25,4,'','','NL_PROP_RESALE_PHONE_OWNER'),(26,4,'','','ID_NL_VIEW'),(27,4,'1','1','ID_NL_USER'),(28,4,'+79282601474','+79282601474','NL_PROP_RESALE_PHONE'),(29,4,'[\"/img/prop_resale/PHOTO_URLS_3_191201_024304.jpg\"]','[\"/img/prop_resale/PHOTO_URLS_3_191201_024304.jpg\"]','NL_PROP_RESALE_PHOTO_URLS'),(30,4,'%7B%22ops%22%3A%5B%7B%22insert%22%3A%22%D0%A5%D0%BE%D1%80%D0%BE%D1%88%D0%B0%D1%8F%20%D0%BA%D0%B2%D0%B0%D1%80%D1%82%D0%B8%D1%80%D0%B0%5Cn%22%7D%5D%7D','%7B%22ops%22%3A%5B%7B%22insert%22%3A%22%D0%A5%D0%BE%D1%80%D0%BE%D1%88%D0%B0%D1%8F%20%D0%BA%D0%B2%D0%B0%D1%80%D1%82%D0%B8%D1%80%D0%B0%5Cn%22%7D%5D%7D','NL_PROP_RESALE_DESCRIPTION'),(31,5,'','12','ID_NL_PROP_RESALE'),(32,5,'','50','NL_PROP_RESALE_AREA_FULL'),(33,5,'','3','ID_NL_HOUSES'),(34,5,'','Какой то адрес','NL_PROP_RESALE_ADDRESS'),(35,5,'','2','ID_NL_MATERIAL'),(36,5,'','2','NL_PROP_RESALE_FLOOR'),(37,5,'','1000000','NL_PROP_RESALE_COST_TOTAL'),(38,5,'','+79998887766','NL_PROP_RESALE_PHONE_OWNER'),(39,5,'','2','ID_NL_VIEW'),(40,5,'','1','ID_NL_USER'),(41,5,'','+79282601474','NL_PROP_RESALE_PHONE'),(42,5,'','[]','NL_PROP_RESALE_PHOTO_URLS'),(43,5,'','%7B%22ops%22%3A%5B%7B%22insert%22%3A%22%D0%95%D1%89%D0%B5%20%D0%BE%D0%B4%D0%BD%D0%B0%20%D0%BA%D0%B2%D0%B0%D1%80%D1%82%D0%B8%D1%80%D0%B0%5Cn%22%7D%5D%7D','NL_PROP_RESALE_DESCRIPTION');
/*!40000 ALTER TABLE `NL_LOG_DETAIL` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `NL_MATERIAL`
--

DROP TABLE IF EXISTS `NL_MATERIAL`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `NL_MATERIAL` (
  `ID_NL_MATERIAL` int(11) NOT NULL AUTO_INCREMENT,
  `NL_MATERIAL_SHORT` varchar(25) NOT NULL,
  PRIMARY KEY (`ID_NL_MATERIAL`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `NL_MATERIAL`
--

LOCK TABLES `NL_MATERIAL` WRITE;
/*!40000 ALTER TABLE `NL_MATERIAL` DISABLE KEYS */;
INSERT INTO `NL_MATERIAL` VALUES (1,'Кирпичный'),(2,'Панельный'),(3,'Монолитный'),(4,'Деревянный');
/*!40000 ALTER TABLE `NL_MATERIAL` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `NL_PROP_RESALE`
--

DROP TABLE IF EXISTS `NL_PROP_RESALE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `NL_PROP_RESALE` (
  `ID_NL_PROP_RESALE` int(11) NOT NULL AUTO_INCREMENT,
  `ID_NL_VIEW` int(11) DEFAULT NULL,
  `ID_NL_HOUSES` int(11) DEFAULT NULL,
  `ID_NL_MATERIAL` int(11) DEFAULT NULL,
  `NL_PROP_RESALE_FLOOR` varchar(25) DEFAULT NULL,
  `NL_PROP_RESALE_AREA_FULL` decimal(6,2) NOT NULL,
  `NL_PROP_RESALE_PHOTO_URLS` varchar(5100) DEFAULT NULL,
  `NL_PROP_RESALE_COST_TOTAL` int(11) DEFAULT NULL,
  `NL_PROP_RESALE_ADDRESS` varchar(2550) DEFAULT NULL,
  `NL_PROP_RESALE_DESCRIPTION` varchar(5100) DEFAULT NULL,
  `ID_NL_USER` int(11) DEFAULT NULL,
  `NL_PROP_RESALE_PHONE` varchar(50) DEFAULT NULL,
  `NL_PROP_RESALE_PHONE_OWNER` varchar(255) DEFAULT NULL,
  `NL_PROP_RESALE_DATE_INSERT` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `NL_PROP_RESALE_DATE_UPDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`ID_NL_PROP_RESALE`) USING BTREE,
  KEY `ID_NL_VIEW` (`ID_NL_VIEW`) USING BTREE,
  CONSTRAINT `nl_prop_resale_ibfk_1` FOREIGN KEY (`ID_NL_VIEW`) REFERENCES `NL_VIEW` (`ID_NL_VIEW`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `NL_PROP_RESALE`
--

LOCK TABLES `NL_PROP_RESALE` WRITE;
/*!40000 ALTER TABLE `NL_PROP_RESALE` DISABLE KEYS */;
INSERT INTO `NL_PROP_RESALE` VALUES (3,NULL,3,1,'1',555.00,'[\"/img/prop_resale/PHOTO_URLS_3_191201_024304.jpg\"]',1000000,'Россия, Краснодарский край, Анапа, Советская улица ','%7B%22ops%22%3A%5B%7B%22insert%22%3A%22%D0%A5%D0%BE%D1%80%D0%BE%D1%88%D0%B0%D1%8F%20%D0%BA%D0%B2%D0%B0%D1%80%D1%82%D0%B8%D1%80%D0%B0%5Cn%22%7D%5D%7D',1,'+79282601474',NULL,'2019-12-01 14:44:02','2023-11-16 10:11:04'),(9,1,2,2,'4',100.00,'[\"/img/prop_resale/PHOTO_URLS_3_191201_024304.jpg\"]',5000000,'Какой то адрес','%7B%22ops%22%3A%5B%7B%22insert%22%3A%22%5Cn%22%7D%5D%7D',1,'+79282601474','+79998887766','2023-11-16 10:01:25','2023-11-16 10:01:25'),(12,2,3,2,'2',50.00,'[\"/img/prop_resale/PHOTO_URLS_3_191201_024304.jpg\"]',1000000,'Какой то адрес','%7B%22ops%22%3A%5B%7B%22insert%22%3A%22%D0%95%D1%89%D0%B5%20%D0%BE%D0%B4%D0%BD%D0%B0%20%D0%BA%D0%B2%D0%B0%D1%80%D1%82%D0%B8%D1%80%D0%B0%5Cn%22%7D%5D%7D',1,'+79282601474','+79998887766','2023-11-17 06:34:03','2023-11-17 06:34:03');
/*!40000 ALTER TABLE `NL_PROP_RESALE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `NL_USER`
--

DROP TABLE IF EXISTS `NL_USER`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `NL_USER` (
  `ID_NL_USER` int(11) NOT NULL AUTO_INCREMENT,
  `ID_NL_USER_PERMISSION` int(11) NOT NULL,
  `NL_USER_LOGIN` varchar(50) NOT NULL,
  `NL_USER_PASSWORD` blob NOT NULL,
  `NL_USER_SHORT` varchar(25) NOT NULL,
  `NL_USER_FULL` varchar(2550) NOT NULL,
  `NL_USER_PHONE` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`ID_NL_USER`) USING BTREE,
  KEY `ID_NL_USER_PERMISSION` (`ID_NL_USER_PERMISSION`) USING BTREE,
  CONSTRAINT `NL_USER_IBFK_1` FOREIGN KEY (`ID_NL_USER_PERMISSION`) REFERENCES `NL_USER_PERMISSION` (`ID_NL_USER_PERMISSION`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `NL_USER`
--

LOCK TABLES `NL_USER` WRITE;
/*!40000 ALTER TABLE `NL_USER` DISABLE KEYS */;
INSERT INTO `NL_USER` VALUES (1,2,'admin',aes_encrypt('admin','aes_some_key_to_testdb777'),'Администратор','Администратор','+79282601474');
/*!40000 ALTER TABLE `NL_USER` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `NL_USER_PERMISSION`
--

DROP TABLE IF EXISTS `NL_USER_PERMISSION`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `NL_USER_PERMISSION` (
  `ID_NL_USER_PERMISSION` int(11) NOT NULL AUTO_INCREMENT,
  `NL_USER_PERMISSION_SHORT` varchar(25) NOT NULL,
  `NL_USER_PERMISSION_FULL` varchar(255) NOT NULL,
  PRIMARY KEY (`ID_NL_USER_PERMISSION`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `NL_USER_PERMISSION`
--

LOCK TABLES `NL_USER_PERMISSION` WRITE;
/*!40000 ALTER TABLE `NL_USER_PERMISSION` DISABLE KEYS */;
INSERT INTO `NL_USER_PERMISSION` VALUES (1,'Пользователь','Пользователь'),(2,'Администратор','Администратор'),(3,'Гость','Гость');
/*!40000 ALTER TABLE `NL_USER_PERMISSION` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `NL_VIEW`
--

DROP TABLE IF EXISTS `NL_VIEW`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `NL_VIEW` (
  `ID_NL_VIEW` int(11) NOT NULL AUTO_INCREMENT,
  `NL_VIEW_SHORT` varchar(25) NOT NULL,
  PRIMARY KEY (`ID_NL_VIEW`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `NL_VIEW`
--

LOCK TABLES `NL_VIEW` WRITE;
/*!40000 ALTER TABLE `NL_VIEW` DISABLE KEYS */;
INSERT INTO `NL_VIEW` VALUES (1,'На море'),(2,'В город');
/*!40000 ALTER TABLE `NL_VIEW` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2023-11-17 17:00:19
